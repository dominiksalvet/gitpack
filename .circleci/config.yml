#-------------------------------------------------------------------------------
# Copyright 2019 Dominik Salvet
# github.com/dominiksalvet/gitpack
#-------------------------------------------------------------------------------

version: 2.1

workflows:
  push:
    jobs:
    - analysis
    - test:
        requires:
        - analysis

jobs:
  analysis:
    docker:
    - image: koalaman/shellcheck-alpine:v0.7.0
    steps:
    - checkout
    - run: .circleci/analysis.sh
  test:
    macos:
      xcode: "11.0.0"
    steps:
    - checkout
    - run: .circleci/test.sh 2>&1 1>/dev/null
